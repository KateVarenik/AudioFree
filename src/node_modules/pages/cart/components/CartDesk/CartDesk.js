import { Link } from "react-router-dom";
import { useContext } from "react";

import "./CartDesk.css";
import Breadcrumb from "components/General/Breadcrumb/Breadcrumb";
import PageTitle from "components/General/Title/PageTitle";
import CartItem from "pages/cart/components/CartItem/CartItem";
import Price from "components/Catalog/CardProduct/Price/Price";
import PurpleButton from "components/Buttons/PurpleButton";
import { OrderContext } from "Context/OrderContext";

export default function CartDesk(props) {
  const cart = useContext(OrderContext);
  return (
    <div className="cartDesk__container container-l">
      <Breadcrumb className="cartDesk__breadcrumb">
        <Link to="/">Главная</Link> &nbsp; / &nbsp;
        <Link to="/cart">Корзина</Link>
      </Breadcrumb>
      <PageTitle className="cartDesk__title">Корзина</PageTitle>

      {cart.items.length ? (
        <>
          <div className="cartDesk__items">
            <ul className="cartDesk__labels">
              <li className="cartDesk__label"></li>
              <li className="cartDesk__label">Название товара:</li>
              <li className="cartDesk__label">Цена за штуку:</li>
              <li className="cartDesk__label">Количество:</li>
              <li className="cartDesk__label">Сумма:</li>
              <li className="cartDesk__label"></li>
            </ul>
            {cart.items.map((item) => {
              return <CartItem {...item} item={item} key={item.id} />;
            })}
          </div>
          <div className="cartDesk__total">
            <span>Сумма заказа:</span>
            <Price currency="RUB" price={cart.totalPrice} />
          </div>
          <hr />
          <PurpleButton className="cartDesk__checkout">
            Оформить заказ
          </PurpleButton>
        </>
      ) : (
        <p>Ваша корзина пуста</p>
      )}
    </div>
  );
}
