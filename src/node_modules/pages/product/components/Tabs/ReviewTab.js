import { useState } from "react";
import Dialog from "@material-ui/core/Dialog";

import Rating from "components/Catalog/CardProduct/Rating/Rating";
import "./ReviewTab.css";
import CATALOG from "Consts/catalog/catalog";
import PurpleButton from "components/Buttons/PurpleButton";
import WhitePurpleButton from "components/Buttons/WhitePurpleButton";
import CloseBtn from "components/Icons/CloseBtn/CloseBtn";

export default function ReviewTab() {
  const [value, setValue] = useState(5);
  const [open, setOpen] = useState(false);
  const handleOpen = () => setOpen(true);
  const handleClose = () => setOpen(false);

  return (
    <div>
      <h4 className="product__tab-title">Пока отзывов нет</h4>
      <WhitePurpleButton onClick={handleOpen}>Оставить отзыв</WhitePurpleButton>
      <Dialog open={open} onClose={handleClose} maxWidth="lg">
        <form className="review" onSubmit={() => handleClose()}>
          <button
            type="button"
            onClick={handleClose}
            className="review__closebtn"
          >
            <CloseBtn />
          </button>
          <div className="review__rate">
            <h4>Ваша оценка:</h4>
            <Rating
              id={value}
              rate={value}
              disabled={false}
              onClick={(newValue) => {
                setValue(newValue);
              }}
              className="review__rate-star"
            />
          </div>
          <textarea
            name="review"
            id={CATALOG[6].id}
            cols="80"
            rows="10"
            minLength={10}
            maxLength={1000}
            placeholder="Ваш отзыв"
            className="review__comment"
          ></textarea>
          <PurpleButton
            type="submit"
            value="Submit"
            className="product__button-purple"
          >
            Отправить
          </PurpleButton>
        </form>
      </Dialog>
    </div>
  );
}
