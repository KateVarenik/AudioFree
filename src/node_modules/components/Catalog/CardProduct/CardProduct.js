import { useContext } from "react";
import { Link } from "react-router-dom";

import "./CardProduct.css";
import { OrderContext } from "Context/OrderContext";

import InStock from "./InStock/InStock";
import PurpleButton from "../../Buttons/PurpleButton";
import WhiteGrayButton from "../../Buttons/WhiteGrayButton";
import CompareButton from "../../Buttons/CompareButton";
import FavoriteButton from "../../Buttons/FavoriteButton";
import Price from "./Price/Price";
import Rating from "./Rating/Rating";
import Title from "./Title/Title";
import Photo from "./Photo/Photo";
import CardWrapper from "../CardWrapper";
import AddToBasketButton from "components/Buttons/AddToBasketButton";

export default function CardProduct({ item }) {
  const cart = useContext(OrderContext);

  return (
    <CardWrapper className="card__product">
      <div className="card__top">
        <InStock />
        <div className="card__top-buttons">
          <CompareButton />
          <FavoriteButton />
        </div>
      </div>
      <Link to={`/catalog/${item.vendorCode}`} className="card__product-link">
        <Photo image={item.image[0]} title={item.title} />
        <Title title={item.title} />
      </Link>

      <div className="card__info">
        <Rating rate={item.rate} disabled />
        <Price currency={item.currency} price={item.price} />
      </div>
      <div className={`card__buttons-buy`}>
        <PurpleButton>Купить в 1 клик</PurpleButton>
        <WhiteGrayButton onClick={() => cart.onAdd(item)}>
          В корзину
        </WhiteGrayButton>
      </div>
      <div className={`card__buttons-delete`}>
        <WhiteGrayButton onClick={() => cart.onDelete(item.vendorCode)}>
          Убрать из корзины
        </WhiteGrayButton>
      </div>
    </CardWrapper>
  );
}

// ${cart.isItemInCart && "active"}`
